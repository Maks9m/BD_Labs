# # Лабораторна робота 1: База даних прокату автомобілів

## 1. Короткий виклад вимог

### Мета системи
Система призначена для автоматизації процесів **оренди автомобілів**, включно з:
- бронюванням авто користувачами,
- реєстрацією поїздок,
- проведенням оплат,
- управлінням інформацією про транспортні засоби та локації.

Система забезпечує зручний облік усіх операцій, пов’язаних із використанням авто, оплатою та взаємодією між користувачами й компанією.

---

### Зацікавлені сторони
- **Адміністратор системи** — керує базою даних, відстежує статус авто, оплат та бронювань.  
- **Користувач (User)** — здійснює бронювання автомобілів, оплачує поїздки, переглядає історію бронювань.  
- **Компанія з оренди авто** — отримує дані про клієнтів, поїздки та платежі для аналітики й звітності.

---

## 2. Дані для зберігання

### USER
- `user_id` — унікальний ідентифікатор користувача  
- `email`, `firstname`, `lastname`, `driver_license` — персональні дані користувача  
- Пов’язаний з таблицями **BOOKING**, **TRIP**, **PAYMENT**

---

### CAR
- `car_id`, `license_plate`, `car_type`, `fuel`, `price`, `status`  
- Використовується у поїздках і бронюваннях  
- Може бути в стані: `available`, `reserved`, `in_use`

---

### LOCATION
- `location_id`, `address`  
- Місце початку або завершення поїздки  
- Зв’язки: **TRIP starts_in / ends_in LOCATION**

---

### TRIP
- `trip_id`, `start_time`, `end_time`, `duration`, `cost`  
- Пов’язаний із користувачем, автомобілем, оплатою та локаціями  
- Відображає завершену або поточну поїздку користувача

---

### PAYMENT
- `payment_id`, `date`, `amount`, `type`, `method`, `status`  
- Відповідає за оплату поїздок або бронювань  
- Статуси: `pending`, `completed`, `failed`

---

### BOOKING
- `book_id`, `status`  
- Містить дані про бронювання автомобіля  
- Пов’язана з користувачем і конкретним авто  

---

## 3. Бізнес-правила

1. Один користувач може мати **декілька бронювань** і **кілька оплат**.  
2. Кожна броня стосується **одного автомобіля**, який може бути зарезервований лише **одним користувачем у певний час**.  
3. Кожна поїздка пов’язана з:
   - одним користувачем;
   - одним автомобілем;
   - двома локаціями (початок і кінець);
   - одним платежем.
4. Автомобіль може бути у стані **вільний**, **зарезервований**, або **у поїздці**.  
5. Платіж здійснюється **після або під час поїздки**.  
6. Користувач повинен мати **дійсне водійське посвідчення** для створення бронювання або поїздки.  
7. Вартість поїздки розраховується на основі **ціни оренди авто за одиницю часу**.

---

## 4. Зв’язки між сутностями

| Зв’язок | Опис |
|----------|------|
| `USER` → `BOOKING` | Користувач створює бронювання |
| `USER` → `TRIP` | Користувач здійснює поїздку |
| `USER` → `PAYMENT` | Користувач проводить оплату |
| `BOOKING` → `CAR` | Автомобіль зарезервований певним користувачем |
| `TRIP` → `CAR` | Під час поїздки використовується автомобіль |
| `TRIP` → `PAYMENT` | Кожна поїздка має пов’язаний платіж |
| `TRIP` → `LOCATION` | Вказано початкову та кінцеву локації |
| `CAR` → `LOCATION` | Автомобіль знаходиться у певній локації |

---

## 5. Очікуваний результат
База даних забезпечує:
- повний облік бронювань, поїздок і оплат;
- контроль стану автомобілів у реальному часі;
- прозору історію дій користувачів;
- можливість аналітики для компанії з оренди авто.

---

© 2025 — *Car Rental Database Project* :)